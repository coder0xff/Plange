<meta charset='utf-8'/>
<html>
<body>style="font-size:13.3333330154419px;line-height:21.3333320617676px">
        <span style="font-size:13.3333330154419px;line-height:21.3333320617676px;background-color:transparent">
            Types are used to define or constrain the structure and behavior (class invariant) of the values that a variable can be assigned, or that a constant can be defined as. Here, we declare x as a variable that can store an integer, and assign the value 10.
        </span>
    </div>
    <div style="font-size:13.3333330154419px;line-height:21.3333320617676px;margin-top:12pt;margin-bottom:12pt;border-style:solid;border-width:1px">
        <p style="font-size:12pt;margin:0px;padding-left:6pt;background-color:rgb(204,221,170)">
            Declare and assign a variable
        </p>
        <pre style="margin-top:0px;margin-bottom:0px;padding:3px;font-family:Courier New;width:715px;max-height:500px;overflow:auto">
            <span style="font-size:13.3333330154419px;line-height:21.3333320617676px;background-color:transparent">
                &lt;Int&gt; x &lt;- 10;
            </span>
        </pre>
    </div>
    <div>
        <span style="line-height:14.2222213745117px;font-size:13.3333330154419px;background-color:transparent">
            This can be likened to "
        </span>
        <code style="line-height:14.2222213745117px;font-size:13.3333330154419px;background-color:transparent">
            int x;
        </code>
        <span style="font-size:13.3333330154419px;line-height:21.3333320617676px;background-color:transparent">
            "
        </span>
        <span style="line-height:14.2222213745117px;font-size:13.3333330154419px;background-color:transparent">
             in C, or "
        </span>
        <span style="font-size:13.3333330154419px;line-height:21.3333320617676px;background-color:transparent">
            <code>
                x : int
            </code>
        </span>
        <span style="font-size:13.3333330154419px;line-height:21.3333320617676px;background-color:transparent">
            "
        </span>
        <span style="font-size:13.3333330154419px;line-height:21.3333320617676px;background-color:transparent">
             in OCaml
        </span>
        <span style="line-height:1.6;font-size:10pt;background-color:transparent">
            . 
        </span>
        <span style="line-height:14.2222213745117px;font-size:13.3333330154419px;background-color:transparent">
            Due to the type constraint on x, this would be erroneous:
        </span>
    </div>
    <div>
        <div style="font-size:13.3333330154419px;line-height:21.3333320617676px;margin-top:12pt;margin-bottom:12pt;border-style:solid;border-width:1px">
            <p style="font-size:12pt;margin:0px;padding-left:6pt;background-color:rgb(204,221,170)">
                Attempting to assign a fractional number to an integer variable
            </p>
            <pre style="margin-top:0px;margin-bottom:0px;padding:3px;font-family:Courier New;width:715px;max-height:500px;overflow:auto">
                <span style="font-size:13.3333330154419px;line-height:21.3333320617676px;background-color:transparent">
                    &lt;Int&gt; x &lt;- 10;
                </span>
                <b>
                    x &lt;- 1.5; // error
                </b>
            </pre>
        </div>
        <div style="font-size:13.3333330154419px;line-height:14.2222213745117px">
            <span style="line-height:1.6;font-size:10pt;background-color:transparent">
                To use a type in the declaration of a variable or in the definition of a constant, the type must be enclosed by angle brackets
                <code>
                    &lt; &gt;
                </code>
                 
            </span>
            <span style="line-height:1.6;font-size:10pt;background-color:transparent">
                . 
            </span>
            <span style="line-height:14.2222213745117px;font-size:13.3333330154419px;background-color:transparent">
                The angle bracket characters and the text between them 
            </span>
            <span style="line-height:14.2222213745117px;font-size:13.3333330154419px;background-color:transparent">
                compose a type dereference expression. 
            </span>
            <span style="font-size:10pt;line-height:1.6;background-color:transparent">
                Next, we define MyTypeDef to be equivalent to Int:
            </span>
        </div>
    </div>
    <div>
        <div>
            <div style="font-size:13.3333330154419px;line-height:21.3333320617676px">
                <h3>
                    <a name="TOC-Definition-of-a-constant-as-a-type-aliasMyTypeDef-:-Int-MyTypeDef-x---10-equivalent-to-first-example">
                    </a>
                    <div style="font-size:13.3333330154419px;line-height:21.3333320617676px;margin-top:12pt;margin-bottom:12pt;border-style:solid;border-width:1px">
                        <p style="font-size:12pt;margin:0px;padding-left:6pt;background-color:rgb(204,221,170)">
                            Definition of a constant as a type alias
                        </p>
                        <pre style="margin-top:0px;margin-bottom:0px;padding:3px;font-family:Courier New;width:715px;max-height:500px;overflow:auto">
                            MyTypeDef := Int;
&lt;MyTypeDef&gt; x &lt;- 10; //equivalent to first example
                        </pre>
                    </div>
                </h3>
            </div>
        </div>
        <code>
            Int
        </code>
         and
        <code>
            MyTypeDef
        </code>
         are both constants; values that don't change.
        <span style="font-size:13.3333330154419px;line-height:21.3333320617676px;background-color:transparent">
            The type dereference syntax creates an additional layer of abstraction above the type system. All types are values. Specifically, they are values of type
            <a href="standard-library/type.html">
                Type
            </a>
            .
        </span>
        <div style="font-size:13.3333330154419px;line-height:21.3333320617676px;margin-top:12pt;margin-bottom:12pt;border-style:solid;border-width:1px">
            <p style="font-size:12pt;margin:0px;padding-left:6pt;background-color:rgb(204,221,170)">
                Example
            </p>
            <pre style="margin-top:0px;margin-bottom:0px;padding:3px;font-family:Courier New;width:715px;max-height:500px;overflow:auto">
                print(type_of(x).name);         //prints "Int"
                <span style="font-size:13.3333330154419px;line-height:21.3333320617676px;background-color:transparent">
                    print(type_of(Int).name);       //prints "Type"
                </span>
                <span style="font-size:13.3333330154419px;line-height:21.3333320617676px;background-color:transparent">
                    print(type_of(MyTypeDef).name); //prints "Type"
print(type_of(Type).name);      //prints "Type"
                </span>
                <span style="font-size:13.3333330154419px;line-height:21.3333320617676px;background-color:transparent">
                    <br>
                    </br>
                </span>
            </pre>
        </div>
        <div style="font-size:13.3333330154419px;line-height:14.2222213745117px">
            <span style="font-size:1.6em;line-height:1.6;background-color:transparent">
                Parametric types
            </span>
        </div>
    </div>
    <div>
        Functions may construct and return Type objects. Called
        <b>
            type functions
        </b>
         (also parametric type or generic type), they may be called using the angle-bracket invocation syntax:
    </div>
    <div>
        <div style="font-size:13.3333330154419px;line-height:21.3333320617676px">
            <div style="font-size:13.3333330154419px;line-height:21.3333320617676px">
                <h3>
                    <a name="TOC-Example-Type-Int---Type-Vector-:-T-s-return-T-s-Vector-is-a-function-Foat32x3-:-Vector-Float32-3-type-def-and-a-function-call-Float32x3-aVectorVariable-make-a-variable-Vector-Float32-3-anotherVectorVariable-same-type-as-previous-line-type_of-aVectorVariabl">
                    </a>
                    <div style="font-size:13.3333330154419px;line-height:21.3333320617676px;margin-top:12pt;margin-bottom:12pt;border-style:solid;border-width:1px">
                        <p style="font-size:12pt;margin:0px;padding-left:6pt;background-color:rgb(204,221,170)">
                            Example
                        </p>
                        <pre style="margin-top:0px;margin-bottom:0px;padding:3px;font-family:Courier New;width:715px;max-height:500px;overflow:auto">
                            &lt;Type * Int -&gt; Type&gt; Vector := (T, s) { return T^s; }; // Vector is a function
Foat32x3 := Vector&lt;Float32, 3&gt;;                        // type def and a function call

&lt;Float32x3&gt; aVectorVariable;                           // make a variable
&lt;Vector&lt;Float32, 3&gt;&gt; anotherVectorVariable;            // same type as previous line
                            <span style="font-size:13.3333330154419px;line-height:21.3333320617676px;background-color:transparent">
                                &lt;type_of(aVectorVariable)&gt; yetAnotherVectorVariable;   // contrived but doable
                            </span>
                        </pre>
                    </div>
                </h3>
            </div>
        </div>
    </div>
    <div>
    </div>
    <h4>
        <a name="TOC-Notes">
        </a>
        Notes
    </h4>
    <div>
        The angle-bracket syntax is not required, since parenthesis can be used also. The convention is to use the angle-bracket syntax when the intent is use as a generic type. See
        <a href="syntax/invocation.html">
            invocation
        </a>
    </div>
    <h2>
        <a name="TOC-Covariance-and-Contravariance">
        </a>
        Covariance and Contravariance
    </h2>
    <div>
        The inheritance graph is modeled and can be tested programmatically.
    </div>
    <div>
        <h3>
            <a name="TOC-Covariance">
            </a>
            Covariance
        </h3>
    </div>
    <div>
        <h3>
            <a name="TOC-ExampleAnimal-:-type-void---void-speak---abstract-Cat-:-type-implementing-Animal-void---void-speak---Meow-List-T---void-choir-:-animals-for-animal-in-animals-animal.speak-Cat-bernard-Cat-russel-List-Cat-kittehs-:-bernard-russel-choir-kittehs-">
            </a>
            <div style="margin-top:12pt;margin-bottom:12pt;border-style:solid;border-width:1px">
                <p style="font-size:12pt;line-height:21.3333320617676px;margin:0px;padding-left:6pt;background-color:rgb(204,221,170)">
                    Example
                </p>
                <pre style="margin-top:0px;margin-bottom:0px;padding:3px;width:715px;max-height:500px;overflow:auto">
                    <font face="Courier New">
                        <span style="font-size:13.3333330154419px;line-height:21.3333320617676px">
                            Animal := type {
    &lt;void -&gt; void&gt; speak &lt;- abstract;
};

Cat := type implementing Animal {
    &lt;void -&gt; void&gt; speak &lt;- { Meow(); };
};

&lt;List&lt;T&gt; -&gt; void&gt; choir := (animals) {
    for (animal in animals) {
                        </span>
                    </font>
                </pre>
                <pre style="margin-top:0px;margin-bottom:0px;padding:3px;width:715px;max-height:500px;overflow:auto">
                    <font face="Courier New">
                        <span style="font-size:13.3333330154419px;line-height:21.3333320617676px">
                            animal.speak();
    }
};

&lt;Cat&gt; bernard;
&lt;Cat&gt; russel;
List&lt;Cat&gt; kittehs := [ bernard, russel ];
choir(kittehs);
                        </span>
                    </font>
                </pre>
            </div>
        </h3>
    </div>
    <div style="font-size:13.3333330154419px;line-height:21.3333320617676px">
    </div>
    <h3>
        <a name="TOC-Contravariance">
        </a>
        Contravariance
    </h3>
    <div>
    </div>
    <h3>
        <a name="TOC-Example-Animal---void-solo-:-animal-animal.speak-Cat---void-cat_solo-solo-">
        </a>
        <div style="font-size:13.3333330154419px;line-height:21.3333320617676px;margin-top:12pt;margin-bottom:12pt;border-style:solid;border-width:1px">
            <p style="font-size:12pt;margin:0px;padding-left:6pt;background-color:rgb(204,221,170)">
                Example
            </p>
            <pre style="margin-top:0px;margin-bottom:0px;padding:3px;font-family:Courier New;width:715px;max-height:500px;overflow:auto">
                &lt;Animal -&gt; void&gt; solo := (animal) { animal.speak(); } 
&lt;Cat -&gt; void&gt; cat_solo = solo;
            </pre>
        </div>
    </h3>
    <h3>
        <a name="TOC-Covariant-method-arguments">
        </a>
        Covariant method arguments
    </h3>
    <div>
        Function overloads are ordered. The | operator, which is used to create function overloads, preserves the order of the elements (functions) and dispatches to the first overload that can accept the parameters.
    </div>
    <div>
    </div>
    <div style="margin-top:12pt;margin-bottom:12pt;border-style:solid;border-width:1px">
        <p style="font-size:12pt;margin:0px;padding-left:6pt;background-color:#cda">
            Example
        </p>
        <pre style="margin:0px;padding:3px;width:715px;max-height:500px;overflow:auto">
            <font face="Courier New">
                &lt;Animal -&gt; void&gt; solo :=
    (&lt;Cat&gt; _ ) { /* cats never do what you want */ } | // overload
    (animal) { animal.speak(); };
            </font>
        </pre>
    </div>
    <div>
        <span>
            <span>
                Note that the semantics resemble pattern matching.
            </span>
        </span>
    </div>
    <div>
        <span>
            <span>
                <br>
                </br>
            </span>
        </span>
    </div>
</body>
</html>
